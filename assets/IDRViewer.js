var IDRViewer=function(){var e={},t=1,n=0,r=0,i,s=0,o=0,u,a,f,l,c=[],h,p,d=false,v=false,m,g,y,b,w=false,E,S,x=0,T=1,N=2,C=0,k=1,L=5,A=2,O=3,M=4,_=0,D=1,P=L,H=40,B=[],j=0,F=0,I="index",q=0,R=0,U,z=true;e.makeNavBar=function(e,w,E,S,x,T,N){"use strict";g=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);y=/iPhone|iPad|iPod/i.test(navigator.userAgent);b=g&&window.requestAnimationFrame&&!(typeof InstallTrigger!=="undefined");a=rt("contentContainer");f=rt("mainContent");p=rt("left");o=e;s=w;n=E;r=a.clientHeight-6;i=S;l=x;U=N;var j,F,I;rt("pgCount").innerHTML="/"+o;a.style.width=n+"px";a.style.height=r+"px";var V=rt("goBtn");if(l===0){u=rt("jpedal");for(F=1;F<=o;F++){j=document.createElement("option");j.value=F;j.innerHTML=String(F);V.appendChild(j)}V.selectedIndex=w-1}else if(l===1){u=rt("container"+w);rt("goBtn").style.width="65px";j=document.createElement("option");j.value=1;j.innerHTML="1";V.appendChild(j);var K;for(F=2;F<=o;F+=2){j=document.createElement("option");j.value=F;if(F!==o||o%2===1){K=String(F+"-"+(F+1))}else{K=String(F)}j.innerHTML=K;V.appendChild(j)}V.selectedIndex=w/2}else if(l===2){u=rt("jpedal");if(e>1){scrollEv(null)}for(F=1;F<=o;F++){j=document.createElement("option");j.value=F;j.innerHTML=String(F);V.appendChild(j);if(b){rt("page"+F).style.margin="0 0 10px"}else{if(F!==o){rt("page"+F).style.margin="0 auto 10px"}else{rt("page"+F).style.margin="0 auto"}}var Q=rt("page"+F);if(Q.clientWidth!=n){z=false}c[F]={width:Q.clientWidth,height:Q.clientHeight}}V.selectedIndex=w-1}u.style.transformOrigin="top left";u.style.webkitTransformOrigin="top left";u.style.msTransformOrigin="top left";u.style.mozTransformOrigin="top left";u.style.oTransformOrigin="top left";u.style.margin="0";var Y=rt("zoomBtn");if(!b){var et=W("zoom");var tt=parseFloat(et);if(et=="width"){P=A}else if(et=="height"){P=O}else if(et=="page"){P=M}else if(et=="actual"){P=D}else if(!isNaN(tt)&&tt>0){P=_;t=tt}else{P=L}rt("zoomBtn").selectedIndex=P;Z();if(!z){Y.remove(5);Y.remove(4);Y.remove(3);Y.remove(2);f.scrollLeft=(a.offsetWidth-f.offsetWidth)/2}window.onresize=Z}var st=document.fullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled;if(!st){I=rt("btnFullscreen");I.parentNode.removeChild(I)}h=document.getElementById("leftContent");X(T);for(F=0;F<o;F++){B[F]=false}var ot=rt("thumb"+w);ot.className="thumbnail currentPageThumbnail";h.scrollTop=ot.getBoundingClientRect().top-80;d=false;v=false;rt("btnOutlines").className="inactive navBtn";rt("btnThumbnails").className="inactive navBtn";if(W("sidebar")==="thumbnails"){d=true;v=false}else if(W("sidebar")==="outlines"){d=true;v=true;rt("btnThumbnails").className="navBtn"}if(d){rt("main").style.transitionDuration="0ms";p.style.transitionDuration="0ms";p.style.width="200px";p.style.left="0";p.offsetLeft;rt("main").style.transitionDuration="200ms";p.style.transitionDuration="200ms";J(-1)}if(v){rt("thumbnailPanel").style.display="none";rt("outlinePanel").style.display="inline"}m=W("mode")==="pan"?k:C;this.setSelectMode(m);nt("fullscreenchange",document,it);nt("MSFullscreenChange",document,it);nt("mozfullscreenchange",document,it);nt("webkitfullscreenchange",document,it);nt("scroll",h,$);if(s===1){rt("btnPrev").className="inactive navBtn"}if(s===o||l===1&&o%2===1&&s+1===o){rt("btnNext").className="inactive navBtn"}var ut=document.createElement("script");ut.setAttribute("src","bookmarks/bookmarks.js");document.head.appendChild(ut);if(g){I=rt("zoomBtn");I.parentNode.removeChild(I);I=rt("btnMove");I.parentNode.removeChild(I);I=rt("btnSelect");I.parentNode.removeChild(I)}if(b){I=rt("btnZoomIn");I.parentNode.removeChild(I);I=rt("btnZoomOut");I.parentNode.removeChild(I);rt("contentContainer").style.width="100%";rt("contentContainer").style.height="100%";rt("contentContainer").style.padding="0";if(l===2){}var at=window.innerWidth;t=at/n;jt=t;if(y){setTimeout(function(){G(0,0,t,false)},0)}else{setTimeout(function(){G(0,0,t,true);u.style.webkitBackfaceVisibility="hidden"},0)}var ft,lt,ct,ht,pt,dt,vt,mt=0,gt,yt=0,bt,wt,Et,St,xt,Tt,Nt,Ct,kt,Lt,At,Ot,Mt,_t,Dt,Pt,Ht,Bt,jt;var Ft=function(e){return Math.round(e*2)/2};var It=function(){Lt=true;yt++;if(!At&&(wt<-.5||wt>.5||Et<-.5||Et>.5)){q-=wt;R-=Et;wt=wt*.95;Et=Et*.95;Wt();G(Ft(q),Ft(R),t,true);window.requestAnimationFrame(It,u)}else{Lt=false;if(!At){var e=yt;setTimeout(function(){if(yt===e){Rt()}},200)}At=false}};var qt=function(e){yt++;kt=yt;if(Lt){At=true}St=e.touches[0].clientX;xt=e.touches[0].clientY;Tt=Date.now();if(e.touches.length===2){var n=e.touches[0].clientX;var r=e.touches[1].clientX;var i=e.touches[0].clientY;var s=e.touches[1].clientY;pt=Math.sqrt(Math.pow(Math.abs(n-r),2)+Math.pow(Math.abs(i-s),2));dt=n-(n-r)/2;vt=i-(i-s)/2}if(e.touches.length==1){var o=(new Date).getTime();ft=ft||o+1;var a=o-ft;var f=Math.abs(lt-e.touches[0].clientX);var l=Math.abs(ct-e.touches[0].clientY);if(a<500&&a>0&&f<50&&l<50){var c;if(t>jt){c=jt/t}else{c=jt*2/t}var h=window.innerWidth/2;var p=H+(window.innerHeight-H)/2;q=q+(h-lt);R=R+(p-ct);var d=-q+h;q=q-(d*c-d);var v=-R+p;R=R-(v*c-v);t=t*c;Wt();u.style.transitionDuration="200ms";G(q,R,t,false);setTimeout(function(){u.style.transitionDuration=""},200);ft=0}else{ft=o}lt=e.touches[0].clientX;ct=e.touches[0].clientY;gt=true}else{ht=null}Ot=q;Mt=R;_t=Ot;Dt=Mt;Ht=Date.now();Pt=Date.now();if(!Bt){Bt=setInterval(function(){Ot=_t;Mt=Dt;_t=q;Dt=R;Pt=Ht;Ht=Date.now()},200)}};var Rt=function(){bt=false;p.style.zIndex="5";u.style.webkitBackfaceVisibility="";requestAnimationFrame(function(){G(Ft(q),Ft(R),t,false)},u);if(!y){var e=yt;setTimeout(function(){u.style.webkitBackfaceVisibility="hidden";if(yt===e){G(Ft(q),Ft(R),t,true);if(d){p.style.zIndex="10"}}},200)}};var Ut=function(e){clearInterval(Bt);Bt=null;yt++;if(bt){var t=yt;setTimeout(function(){if(yt===t){Rt()}},200)}if(Nt){Nt=false;Ct=false;var n=Date.now()-Pt;var r=Ot-q;var i=Mt-R;wt=r/(n/16);Et=i/(n/16);if(Math.abs(wt)<.5){wt=0}if(Math.abs(Et)<.5){Et=0}if(wt!==0||Et!==0){window.requestAnimationFrame(It,u)}}};var zt=function(e){Ut(null)};var Wt=function(){if(q>0){q=0;wt=0}if(R>0){R=0;Et=0}var e=n*t;if(q+e<window.innerWidth){if(e>window.innerWidth){q=window.innerWidth-e}else{q=0}wt=0}var r=i*t;if(H+R+r<window.innerHeight){if(r>window.innerHeight-H){R=window.innerHeight-r-H}else{R=0}Et=0}};var Xt=function(e){yt++;e.preventDefault();e.stopPropagation();ft=0;Nt=false;if(e.touches.length===1){if(gt){if(y){bt=true}Nt=true;var r=e.touches[0].clientX;var i=e.touches[0].clientY;var s=r-lt;var o=i-ct;q=q+s;R=R+o;lt=r;ct=i;Wt();requestAnimationFrame(function(){G(Ft(q),Ft(R),t,true)},u)}}if(e.touches.length===2){gt=false;mt=(mt+1)%2;if(mt===1){bt=true;var a=e.touches[0].clientX;var f=e.touches[1].clientX;var l=e.touches[0].clientY;var c=e.touches[1].clientY;var h=Math.sqrt(Math.pow(Math.abs(a-f),2)+Math.pow(Math.abs(l-c),2));var p=h/pt;if(p<1&&n*t*p<window.innerWidth){p=1;t=jt}if(t*p>4){p=1}t=t*p;var d=a-(a-f)/2;var v=l-(l-c)/2;q=q+d-dt;R=R+v-vt;var m=-q+d;q=q-(m*p-m);var g=-R+v;R=R-(g*p-g);Wt();dt=d;vt=v;requestAnimationFrame(function(){G(Ft(q),Ft(R),t,true)},u);pt=h}}};var Vt=function(){setTimeout(function(){jt=window.innerWidth/n;if(t<=jt){t=jt}Wt();G(q,R,t,false)},300)};f.addEventListener("touchstart",qt);f.addEventListener("touchend",Ut);f.addEventListener("touchcancel",zt);f.addEventListener("touchmove",Xt);window.onorientationchange=Vt;var $t=function(){var e={},t=false,n,r;e.touchStart=function(e){if(e.touches.length===1){n=e.touches[0].clientX;r=e.touches[0].clientY;t=true}else{t=false}};e.touchMove=function(e){if(t){var i=n-e.touches[0].clientX;var s=Math.abs(r-e.touches[0].clientY);if(s>50){t=false}else if(i>100){t=false;IDRViewer.toggleThumbnails()}}};return e}();p.addEventListener("touchstart",$t.touchStart);p.addEventListener("touchmove",$t.touchMove)}};e.setBookmarks=function(e){rt("leftContent").style.top="40px";rt("leftNav").style.display="block";rt("outlinePanel").innerHTML=e;if(v){rt("btnThumbnails").className="navBtn"}else{rt("btnOutlines").className="navBtn"}};e.setFirstPageName=function(e){"use strict";I=e};var W=function(e){"use strict";var t=document.URL;var n=t.toString().indexOf("?");var r=n!=-1?t.substr(n+1).split("&"):"";for(var i=0;i<r.length;i++){r[i]=r[i].split("=");if(r[i][0]==e){return r[i][1]}}return""};e.toggleOutlines=function(e){"use strict";if(v&&!e){rt("thumbnailPanel").style.display="inline";rt("outlinePanel").style.display="none";h.scrollTop=rt("thumb"+s).getBoundingClientRect().top-80;v=!v;rt("btnThumbnails").className="inactive navBtn";rt("btnOutlines").className="navBtn"}else if(e&&rt("btnOutlines").className!="inactive navBtn"){rt("thumbnailPanel").style.display="none";rt("outlinePanel").style.display="inline";v=!v;rt("btnThumbnails").className="navBtn";rt("btnOutlines").className="inactive navBtn"}};var X=function(e){"use strict";var t;var n=0;var r=0;for(var i=1;i<=o;i++){if(e[r]<0&&n<=0){n=Math.abs(e[r])-1;r++}else if(n>0){n--}else{t=e[r];r++}var s=document.createElement("div");s.style.height=t+"px";s.className="thumbnail";s.id="thumb"+i;s.setAttribute("onclick","IDRViewer.goToPage("+i+");");s.setAttribute("title","Page "+i);s.innerHTML='<img src="assets/loading.gif"/>';h.children[0].appendChild(s)}};var V=function(e){"use strict";if(!B[e]){h.children[0].children[e].children[0].setAttribute("src","thumbnails/"+(e+1)+U);B[e]=true}};var $=function(e){"use strict";var t=h.scrollTop;F=j;j=t;setTimeout(function(){J(t)},500)};var J=function(e){"use strict";if(e!=j&&e!=-1)return;for(var t=0;t<o;t++){if(!B[t]){var n=h.children[0].children[t];if(n.offsetTop>h.scrollTop+h.clientHeight){break}if(n.offsetTop+n.clientHeight>h.scrollTop){V(t)}}}};e.setSelectMode=function(e){"use strict";if(g)return;m=e;if(e==C){rt("btnSelect").className="inactive navBtn";rt("btnMove").className="navBtn";a.style.cursor=K(x);a.onmousedown=function(e){};document.body.onmouseup=function(e){};document.body.onmousemove=function(e){}}else{rt("btnSelect").className="navBtn";rt("btnMove").className="inactive navBtn";if(window.getSelection){if(window.getSelection().empty){window.getSelection().empty()}else if(window.getSelection().removeAllRanges){window.getSelection().removeAllRanges()}}else if(document.selection){document.selection.empty()}a.style.cursor=K(T);a.onmousedown=function(e){e=e||window.event;a.style.cursor=K(N);E=e.clientX;S=e.clientY;w=true;return false};document.body.onmouseup=function(e){a.style.cursor=K(T);w=false};document.body.onmousemove=function(e){if(w){e=e||window.event;f.scrollLeft=f.scrollLeft+E-e.clientX;f.scrollTop=f.scrollTop+S-e.clientY;E=e.clientX;S=e.clientY;return false}}}};var K=function(e){"use strict";var t=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0;var n=typeof InstallTrigger!=="undefined";var r=!!window.chrome&&!t;if(n){if(e==x)return"";else if(e==T)return"-moz-grab";else return"-moz-grabbing"}else if(r){if(e==x)return"";else if(e==T)return"-webkit-grab";else return"-webkit-grabbing"}else{if(e==x)return"";else return"all-scroll"}};var Q=function(){"use strict";var e=0;if(self.innerHeight){e=self.innerWidth}else if(document.documentElement&&document.documentElement.clientHeight){e=document.documentElement.clientWidth}else if(document.body){e=document.body.clientWidth}return e};var G=function(e,t,n,r){"use strict";var i;if(r){i="translate3d("+e+"px, "+t+"px, 0) scale("+n+")"}else{i="translateX("+e+"px) translateY("+t+"px) scale("+n+")"}u.style.transform=i;u.style.webkitTransform=i;u.style.msTransform=i;u.style.MozTransform=i;u.style.OTransform=i;if(l===2){scrollEv()}};var Y=function(){"use strict";var e=f.scrollLeft;var i=f.scrollTop;var s=a.offsetHeight;if(P===_){rt("zoomBtn").selectedIndex=_}if(t>4){t=4}else if(t<.25){t=.25}if(isIE){u.style.zoom=t}G(0,0,t,false);a.style.width=n*t+"px";a.style.height=r*t+"px";var o=Math.floor(t*100);if(!g){rt("zoomBtn").options[0].innerHTML=o+"%"}if(l==2){var c=Math.floor(100/o*100);u.style.width=c+"%"}var h=a.offsetHeight/s;f.scrollTop=i*h};e.zoomIn=function(){"use strict";P=_;t=t*1.2;Y()};e.zoomUpdate=function(){"use strict";P=rt("zoomBtn").selectedIndex;if(P!=_){Z()}};var Z=function(){"use strict";var e,i,o,u,a;var h=function(){e=f.clientWidth;if(l==2){n=c[s].width}t=(e-6)/n};switch(P){case L:if(n>Q()&&z){h()}else{t=1}break;case A:h();break;case O:i=f.clientHeight;o=(i-6)/r;if(l==2){a=c[s].height;o=(i-6)/a}t=o;break;case M:e=f.clientWidth;i=f.clientHeight;if(l==2){n=c[s].width;a=c[s].height}u=(e-6)/n;o=(i-6)/r;if(l==2){o=(i-6)/a}if(u>o){t=o}else{t=u}break;case D:t=1;break}Y()};e.zoomOut=function(){"use strict";P=_;t=t/1.2;Y()};e.goToPage=function(n){"use strict";var r;if(n===0){if(l===0||l===2){n=rt("goBtn").selectedIndex+1}else{n=rt("goBtn").selectedIndex*2+1}}if(n!=s){var i=[];if(P!=L){var a;switch(P){case A:a="width";break;case O:a="height";break;case M:a="page";break;case _:a=t;break;case D:a="actual";break}i[i.length]="zoom="+a}if(d&&!v)i[i.length]="sidebar=thumbnails";if(d&&v)i[i.length]="sidebar=outlines";if(m==k)i[i.length]="mode=pan";var c="?";for(r=0;r<i.length;r++){if(r>0)c=c+"&";c=c+i[r]}if(c.length==1)c="";var h;if(l===0){h=et(n,o);window.open(h+".html"+c,"_self")}else if(l==1){h=tt(n,o);window.open(h+".html"+c,"_self")}else if(l==2){if(b){u.style.transitionDuration="200ms";R=R-rt("page"+n).getBoundingClientRect().top+H;G(q,R,t,false);setTimeout(function(){u.style.transitionDuration="";e.updateCurrentPage()},200)}else{f.scrollTop=f.scrollTop+rt("page"+n).getBoundingClientRect().top-45;e.updateCurrentPage()}}}};e.updateCurrentPage=function(){"use strict";if(rt("page1").getBoundingClientRect().top>0){s=1;rt("goBtn").selectedIndex=s-1}else{for(var e=1;e<=o;e++){var t=rt("page"+e).getBoundingClientRect();var n=t.top;var r=t.bottom-t.top;if(n<=r*.25&&n>-r*.5){s=e;rt("goBtn").selectedIndex=s-1;break}}}var i=rt("btnPrev");var u=rt("btnNext");if(s===1){i.className="inactive navBtn"}else{i.className="navBtn"}if(s===o){u.className="inactive navBtn"}else{u.className="navBtn"}var a=rt("thumb"+s);if(a.className!="thumbnail currentPageThumbnail"){for(e=1;e<=o;e++){rt("thumb"+e).className="thumbnail"}a.className="thumbnail currentPageThumbnail";h.scrollTop=h.scrollTop+a.getBoundingClientRect().top-80}};var et=function(e,t){"use strict";var n=e.toString();var r=t.toString().length-n.length;if(e===1){n=I}else{for(var i=0;i<r;i++){n="0"+n}}return n};var tt=function(e,t){"use strict";if(e>t)e=t;if(e===1)return et(e,t);else if(e%2===0){if(e===t)return et(e,t);else return et(e,t)+"-"+et(e+1,t)}else{return et(e-1,t)+"-"+et(e,t)}};e.next=function(){"use strict";if(l==1){if(s+1<o)this.goToPage(s+2)}else{if(s<o)this.goToPage(s+1)}};e.prev=function(){"use strict";if(s>1)this.goToPage(s-1)};var nt=function(e,t,n){"use strict";if(t.addEventListener)t.addEventListener(e,n,false);else if(t.attachEvent){var r=t.attachEvent("on"+e,n);return r}};var rt=function(e){return document.getElementById(e)};e.toggleThumbnails=function(){"use strict";if(d){p.style.width="0";p.style.left="-20px"}else{J(-1);p.style.width="200px";p.style.left="0";$()}d=!d};var it=function(){"use strict";if(!document.fullscreenElement&&!document.msFullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement){rt("btnFullscreen").className="navBtn closed"}else{rt("btnFullscreen").className="navBtn open"}};e.toggleFullScreen=function(){"use strict";if(!document.fullscreenElement&&!document.msFullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement){if(document.body.requestFullscreen){document.body.requestFullscreen()}else if(document.body.msRequestFullscreen){document.body.msRequestFullscreen()}else if(document.body.mozRequestFullScreen){document.body.mozRequestFullScreen()}else if(document.body.webkitRequestFullscreen){document.body.webkitRequestFullscreen()}}else{if(document.exitFullscreen){document.exitFullscreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitCancelFullScreen){document.webkitCancelFullScreen()}}};e.addToolBarHyperlink=function(e,t){"use strict";var n=new Image;n.src=e;var r=document.createElement("a");r.href=t;r.className="customNavLink";r.appendChild(n);r.setAttribute("target","_blank");rt("mainNav").insertBefore(r,rt("btnPrev"))};return e}();if(intLoaded){idrLoad()}else{extLoaded=true}